<ion-view view-title="{{title}}">
  <ion-content class="padding ion-content-position">
      <div style="text-align: center; position: relative; background: red; /* For browsers that do not support gradients */
        background: -webkit-linear-gradient(-90deg, #0c60ee, red); /* For Safari 5.1 to 6.0 */
        background: -o-linear-gradient(-90deg, #0c60ee, red); /* For Opera 11.1 to 12.0 */
        background: -moz-linear-gradient(-90deg, #0c60ee, red); /* For Firefox 3.6 to 15 */
        background: linear-gradient(-90deg, #0c60ee, red); /* Standard syntax */">
        <span class="icon ion-speakerphone" style="color: white; font-size: 15px;" ng-click="report(posts[0].posted_by)" ng-hide="posts[0].posted_by._id == user._id">举报</span>
        <img ng-src="{{posts[0].posted_by.face || './img/default_photo.png'}}" style="width: 100%;">
        <span style="position: relative;
                  top: -4px;
                  left: 10px;
                  float: left;
                  color: white;">
          <i class="icon ion-ios-chatboxes" style="font-size: 15px;" ng-click="createChat(posts[0].posted_by)" ng-hide="posts[0].posted_by._id == user._id">发私信</i>
        </span>
        <span style="position: relative;
                  left: 20%;
                  color: white;
                  font-size: 20px;">{{title}}</span>
      </div>

    <div class="list card customized-card" ng-repeat="post in posts">
      <div class="item item-body post-item-body">
          <div>
          {{post.content}}
            <ion-gallery ion-gallery-items="post.images" ion-gallery-toggle="false"></ion-gallery>
            <p class="post-created-at"><small>{{post.created_at_from_now}}</small></p>
          </div>
          <div class="post-feedback">
            <a class="button button-icon icon ion-ios-trash-outline" ng-show="post.posted_by._id == user._id" ng-click="removeMoment(post)">删除</a>
            <a class="button button-icon icon ion-ios-heart-outline" ng-click="addLike(post)">{{post.likes.length}}</a>
            <a class="button button-icon icon ion-ios-chatbubble-outline" ng-click="toggleComments(post)">{{post.comments.length}}</a>
          </div>
          <ion-list ng-show="post.showComments">
            <ion-item ng-repeat="comment in post.comments" class="post-comment-item">
              <span ng-click="openUserMoments(comment.from)">
                <img ng-src="{{comment.from.face || './img/default_photo.png'}}" style="width: 20px; height: 20px">
              </span>
              <p ng-click="replyComment(post, comment)" class="post-comment-content">
                <b>{{comment.from.nickname}}:</b> {{comment.text}}
              </p>
            </ion-item>
            <input type="text" class="new-comment-input" auto-focus="{{post.autoFocus}}" placeholder="说两句呗..." ng-model="post.newComment.content">
            <a class="button button-icon icon ion-paper-airplane" ng-click="addComment(post)"></a>
          </ion-list>
        </div>
    </div>
  </ion-content>
</ion-view>
